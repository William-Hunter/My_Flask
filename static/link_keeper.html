<!DOCTYPE html>

<html lang="en">
<head>
<base target="_blank"/>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=, initial-scale=1.0" name="viewport"/>
<title>链接保存箱</title>
<!-- <script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script> -->
<script src="./axios.min.js"></script>
<style>
        .link {
            border: 2px solid #a1a1a1;
            padding: 10px 40px;
            background: #dddddd;
            width: max-content;
            border-radius: 25px;
            -moz-border-radius: 25px;
            /* 老的 Firefox */
            float: left;
        }

        div#links a {
            margin-right: 20px;
        }

        div#links div {
            margin-bottom: 12px;
        }

        .iinput {
            width: -webkit-fill-available;
        }

        .butt {
            width: auto;
            margin-top: 25px;
            margin-left: 20px;
            font-size: larger;
            background-color: #72ca9b;
        }

        .inlinne {
            height: 40px;
        }

        .del-btn {
            background-color: red;
        }

        .youtube-btn {
            background-color: #ac2f33;
        }

        .bilibili-btn {
            background-color: #00AEEC;
        }
    </style>
</head>
<body>
<div id="searchBar">
<input class="iinput inlinne" id="search" name="search" placeholder="请输入......" type="text"/>
<br/>
<button class="butt inlinne" onclick="search('google')" type="button">
            Google
        </button>
<button class="butt inlinne" onclick="search('bing')" type="button">
            Bing
        </button>
<button class="butt inlinne bilibili-btn" onclick="search('bilibili')" type="button">
            Bilibili
        </button>
<button class="butt inlinne youtube-btn" onclick="search('youtube')" type="button">
            Youtube
        </button>
<button class="butt inlinne" onclick="clearSearch()" type="button">
            清除
        </button>
</div>
<br/><br/><br/>
<div id="links">
<div class="link" id="BymXASZ6R29uSyZuwwsd"><a href="https://web.ideanote.cc/">ideanote</a><button class="del-btn" onclick="_2delete('BymXASZ6R29uSyZuwwsd')" type="button">删除</button></div>
<div class="link" id="zbtRS91jLest0rFxnoF1"><a href="https://app.any.do/tasks/next-seven-days?d=anydo://anydo?action=tasktab">anydo</a><button class="del-btn" onclick="_2delete('zbtRS91jLest0rFxnoF1')" type="button">删除</button></div>
<div class="link" id="3PHjh6rWbhIszTngXpUo"><a href="https://t.bilibili.com/?tab=video">B站动态</a><button class="del-btn" onclick="_2delete('3PHjh6rWbhIszTngXpUo')" type="button">删除</button></div>
<div class="link" id="BmbnrYY7rSCitSwurs6F"><a href="https://www.youtube.com/feed/subscriptions">油管订阅</a><button class="del-btn" onclick="_2delete('BmbnrYY7rSCitSwurs6F')" type="button">删除</button></div>
<div class="link" id="PlIsQUpPYi2wKZdA1Bbm"><a href="https://www.colamanga.com/manga-nc75457/">绍宋漫画</a><button class="del-btn" onclick="_2delete('PlIsQUpPYi2wKZdA1Bbm')" type="button">删除</button></div>
<div class="link" id="3mejmZWWOZchuv77puMY"><a href="https://store.epicgames.com/en-US/free-games">epic免费游戏</a><button class="del-btn" onclick="_2delete('3mejmZWWOZchuv77puMY')" type="button">删除</button></div>
<div class="link" id="3Fj1IHXEnZyqartHw777"><a href="http://101.35.218.66:8888/#unread/all">RSS新闻</a><button class="del-btn" onclick="_2delete('3Fj1IHXEnZyqartHw777')" type="button">删除</button></div>
<div class="link" id="IlyRLk7eSREKVm3BHdMp"><a href="https://zh.wikipedia.org/zh-cn/2024%E5%B9%B4">2024年大事</a><button class="del-btn" onclick="_2delete('IlyRLk7eSREKVm3BHdMp')" type="button">删除</button></div>
<div class="link" id="LJNpt4LogtCetR8M5TX0"><a href="https://cn.tradingview.com/symbols/USDCNY/">tradingview</a><button class="del-btn" onclick="_2delete('LJNpt4LogtCetR8M5TX0')" type="button">删除</button></div>
<div class="link" id="r1eXscvjooOSXKYjQPlv"><a href="https://www.google.com/finance/portfolio/5e80a699-8ad8-402e-bfc6-5c22c0a2a57d?hl=zh">谷歌财经</a><button class="del-btn" onclick="_2delete('r1eXscvjooOSXKYjQPlv')" type="button">删除</button></div>
<div class="link" id="fvOJyDvUiwSR5Vze1bFo"><a href="https://mail.google.com/mail/u/0/#inbox">Gmail</a><button class="del-btn" onclick="_2delete('fvOJyDvUiwSR5Vze1bFo')" type="button">删除</button></div><div class="link" id="DB1pjvF1p99MkyWkAAa2"><a href="https://data.eastmoney.com/cjsj/globalRate.html">全球利率</a><button class="del-btn" onclick="_2delete('DB1pjvF1p99MkyWkAAa2')" type="button">删除</button></div><div class="link" id="jJEoKQaqJrPMLf3IxgHx"><a href="https://m.huxiu.com/article/2843958.html">浙江第四城，加速入都市圈</a><button class="del-btn" onclick="_2delete('jJEoKQaqJrPMLf3IxgHx')" type="button">删除</button></div><div class="link" id="R9tPmcjwoYoLCiwngUHk"><a href="https://juejin.cn/post/6989109527886954527">Redis 6.0 新特性</a><button class="del-btn" onclick="_2delete('R9tPmcjwoYoLCiwngUHk')" type="button">删除</button></div><div class="link" id="3LeAYy45Vwd7sgLDXmrg"><a href="https://www.google.com/search?q=redis+%E5%A4%9A%E7%BA%BF%E7%A8%8Bio&amp;newwindow=1&amp;sca_esv=576e4e7685de117a&amp;sca_upv=1&amp;sxsrf=ACQVn0_egoQ5rSqYQgGORxK-I8tBO4u3Gw%3A1711934503553&amp;ei=JwwKZru3IdeH1e8Ps8GAwAw&amp;ved=0ahUKEwj75tn_7J-FAxXXQ_UHHbMgAMgQ4dUDCBA&amp;uact=5&amp;oq=redis+%E5%A4%9A%E7%BA%BF%E7%A8%8Bio&amp;gs_lp=Egxnd3Mtd2l6LXNlcnAiEXJlZGlzIOWkmue6v-eoi2lvMgUQABiABEi2H1DIAljXG3ABeAGQAQCYAbsBoAHICqoBBDEuMTG4AQPIAQD4AQGYAg2gAvYKwgIKEAAYRxjWBBiwA8ICChAjGIAEGIoFGCfCAgQQIxgnwgIKEAAYgAQYigUYQ8ICBxAAGIAEGAyYAwCIBgGQBgqSBwQyLjExoAeEFg&amp;sclient=gws-wiz-serp">redis 多线程io</a><button class="del-btn" onclick="_2delete('3LeAYy45Vwd7sgLDXmrg')" type="button">删除</button></div><div class="link" id="WKhs1eFNJG7cd21tjvuV"><a href="https://www.youtube.com/@ByteByteGo/community">ByteByteGo</a><button class="del-btn" onclick="_2delete('WKhs1eFNJG7cd21tjvuV')" type="button">删除</button></div><div class="link" id="0b23ryVMXcEiVh2at8EN"><a href="https://github.com/William-Hunter?tab=repositories">My Github</a><button class="del-btn" onclick="_2delete('0b23ryVMXcEiVh2at8EN')" type="button">删除</button></div><div class="link" id="7bxFIOHD0IGmzO0DJlGg"><a href="http://101.35.218.66:5244/">Alist</a><button class="del-btn" onclick="_2delete('7bxFIOHD0IGmzO0DJlGg')" type="button">删除</button></div><div class="link" id="5rw6uYcPou03NsmYF3do"><a href="http://101.35.218.66:10880/">Gogs</a><button class="del-btn" onclick="_2delete('5rw6uYcPou03NsmYF3do')" type="button">删除</button></div><div class="link" id="2NbvxQmVO1Tt03zunrg9"><a href="http://101.35.218.66:5700/login">QingLong</a><button class="del-btn" onclick="_2delete('2NbvxQmVO1Tt03zunrg9')" type="button">删除</button></div><div class="link" id="HXGkcjf0njtygoCUsvhc"><a href="http://101.35.218.66:5700/login">青龙面板</a><button class="del-btn" onclick="_2delete('HXGkcjf0njtygoCUsvhc')" type="button">删除</button></div><div class="link" id="w9TJ53YcZSHF94LNRveS"><a href="http://101.35.218.66:8787/">IT工具箱</a><button class="del-btn" onclick="_2delete('w9TJ53YcZSHF94LNRveS')" type="button">删除</button></div><div class="link" id="aQuulZjOjEMe0B9Hu23a"><a href="http://101.35.218.66:42320/ff4ab60e96">1Panel</a><button class="del-btn" onclick="_2delete('aQuulZjOjEMe0B9Hu23a')" type="button">删除</button></div><div class="link" id="IvtU8AZ4rkNsPmI3WuwW"><a href="http://101.35.218.66:4000/">wewe-rss</a><button class="del-btn" onclick="_2delete('IvtU8AZ4rkNsPmI3WuwW')" type="button">删除</button></div></div>
<!-- <br /><br /><br /> -->
<div id="add">
<input class="iinput inlinne" id="title" name="title" placeholder="请输入标题" type="text"/>
<input class="iinput inlinne" id="url" name="url" placeholder="请输入链接" type="text"/>
<br/>
<button class="butt inlinne" onclick="add()" type="button">
            添加链接
        </button>
</div>
</body>
<script>
    var domain = window.location.host;


    function clearSearch() {
        document.getElementById("search").value = "";
    }

    function search(_type) {
        var searchWord = document.getElementById("search").value;

        if (null == searchWord || undefined == searchWord) {
            alert("keyword 不能为空")
            return
        }
        searchWord = searchWord.trim()
        if ('' == searchWord) {
            alert("keyword 不能为空")
            return
        }

        url = null
        switch (_type) {
            case "google":
                url = "https://www.google.com/search?q=" + searchWord
                break;
            case "bing":
                url = "https://cn.bing.com/search?q=" + searchWord
                break;
            case "bilibili":
                url = "https://search.bilibili.com/all?keyword=" + searchWord
                break;
            case "youtube":
                url = "https://www.youtube.com/results?search_query=" + searchWord
                break;
            default:
                alert("找不到搜索功能")
                return
        }

        if (null == url) {
            alert("url异常")
            return
        }
        window.open(url, "_blank")
    }


    function add() {
        // console.log(domain)

        var url = document.getElementById("url").value;
        var title = document.getElementById("title").value;

        if (null == url || undefined == url) {
            alert("url 不能为空")
            return
        } else if (null == title || undefined == title) {
            alert("title 不能为空")
            return
        }

        url = url.trim()
        title = title.trim()

        if ('' == title) {
            alert("title 不能为空")
            return
        } else if ('' == url) {
            alert("url 不能为空")
            return
        } else if (!url.startsWith("https://") && !url.startsWith("http://")) {
            url = "https://" + url
            console.log("url:" + url)
        }

        url = encodeURIComponent(url)
        title = encodeURIComponent(title)

        // return
        axios({// GET request for remote image in node.js
            method: 'get',
            url: 'http://' + domain + '/api/link_keeper/add?url=' + url + "&title=" + title
        }).then(function (response) {
            console.log(response.data)
            if (200 == response.data.code) {
                document.getElementById("url").value = "";
                document.getElementById("title").value = "";
                window.location.reload();
            } else {
                alert(response.data)
            }
        });
    }

    function _2delete(id) {
        let text;
        if (confirm("确认删除?") == true) {
            text = "You pressed OK!";
        } else {
            text = "You canceled!";
            return
        }
        // alert(text)

        axios({// GET request for remote image in node.js
            method: 'get',
            url: 'http://' + domain + '/api/link_keeper/delete?id=' + id
        }).then(function (response) {
            console.log(response.data)
            if (200 == response.data.code) {
                // document.getElementById("url").value = "";
                // document.getElementById("title").value = "";
                window.location.reload();
            } else {
                alert(response.data.message)
            }
        });
    }

    function request(url, method) {
        var request = new XMLHttpRequest();

        request.open(method, url, true);
        request.responseType = 'json';

        request.onload = function () {
            var data = this.response;
            console.log(data);
        };
    }

</script>
</html>